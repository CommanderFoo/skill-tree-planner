{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"$id": "schema_tree.json",
	"title": "Skill Tree",
	"description": "A complete skill tree containing nodes and their connections",
	"type": "object",
	"required": [
		"id",
		"name",
		"point_pool",
		"nodes",
		"connections"
	],
	"properties": {
		"id": {
			"type": "string",
			"description": "Unique identifier for this tree",
			"pattern": "^[a-z0-9_]+$"
		},
		"name": {
			"type": "string",
			"description": "Display name of the skill tree",
			"minLength": 1,
			"maxLength": 100
		},
		"description": {
			"type": "string",
			"description": "Description of this skill tree's theme or purpose",
			"default": ""
		},
		"point_pool": {
			"type": "object",
			"description": "Configuration for the point pool used by this tree",
			"required": [
				"total",
				"spent"
			],
			"properties": {
				"total": {
					"type": "integer",
					"description": "Total points available to allocate",
					"minimum": 0
				},
				"spent": {
					"type": "integer",
					"description": "Points currently allocated (derived, but stored for convenience)",
					"minimum": 0,
					"default": 0
				},
				"source": {
					"type": "string",
					"description": "Where points come from: 'local' (tree-specific) or 'global' (shared across project)",
					"enum": [
						"local",
						"global"
					],
					"default": "local"
				}
			},
			"additionalProperties": false
		},
		"nodes": {
			"type": "array",
			"description": "All nodes in this skill tree",
			"items": {
				"$ref": "schema_node.json"
			},
			"default": []
		},
		"connections": {
			"type": "array",
			"description": "All connections (dependencies) between nodes in this tree",
			"items": {
				"$ref": "schema_connection.json"
			},
			"default": []
		}
	},
	"additionalProperties": false
}